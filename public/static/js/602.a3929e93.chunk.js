"use strict";(self.webpackChunkbmg_web_app=self.webpackChunkbmg_web_app||[]).push([[602],{7562:function(e,t,n){var a=n(1413),i=n(2791),o=n(6871),d=n(374),r=n(184);t.Z=function(e,t){return function(n){var l=(0,i.useContext)(d.V),c=(0,o.s0)(),s=l.userToken;return(0,i.useEffect)((function(){"undefined"!==typeof window&&(s?-1===(null===t||void 0===t?void 0:t.indexOf(l.userRole))&&c("/403",{replace:!0}):c("/auth",{replace:!0}))}),[s,l.userRole,c]),"undefined"!==typeof window?l.isLoading?(console.log("loading from with auth"),null):(0,r.jsx)(e,(0,a.Z)({},n)):null}}},8602:function(e,t,n){n.r(t);var a=n(1413),i=n(9439),o=n(2791),d=n(6871),r=n(8735),l=n(5303),c=n(7496),s=n(8164),u=n(7309),f=n(5696),p=n(7562),m=n(2567),g=n(6208),h=n(2426),x=n.n(h),y=n(3853),Z=n(184),j=r.Z.Title,w=l.Z.Option,v=function(e){return x()(e).format("YYYY-MM-DD")};t.default=(0,p.Z)((function(){var e=new Date,t=(0,o.useState)({page:1,fromdate:v(e),todate:v(e),update:!1}),n=(0,i.Z)(t,2),r=n[0],l=n[1],p=(0,o.useState)(20),h=(0,i.Z)(p,2),C=h[0],I=h[1],S=(0,o.useState)(""),b=(0,i.Z)(S,2),k=b[0],Y=b[1],D=(0,g.cF)("attendance/view/logs?emp_id=".concat(k,"&from=").concat(r.fromdate,"&to=").concat(r.todate,"&page=").concat(r.page,"&perpage=").concat(C)),_=D.data,T=D.pagination,z=D.loading,F=(0,g.KQ)("employee"),L=F.data,M=F.loading,R=(0,o.useState)([v(e),v(e)]),A=(0,i.Z)(R,2),E=A[0],O=A[1],B=(0,d.s0)(),K=c.Z.useForm(),P=(0,i.Z)(K,1)[0];(0,o.useEffect)((function(){P.setFieldsValue({date:[x()(e),x()(e)]})}),[]);return(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(s.Z,{style:{margin:"16px 0"},children:[(0,Z.jsx)(s.Z.Item,{style:{cursor:"pointer"},onClick:function(){return B("/attendance")},children:"Attendance"}),(0,Z.jsx)(s.Z.Item,{children:"Log"})]}),(0,Z.jsx)("div",{children:(0,Z.jsxs)(m.Zb,{children:[(0,Z.jsx)(j,{level:3,type:"secondary",style:{marginRight:20,marginBottom:30},children:"Attendance Log"}),(0,Z.jsxs)(m.Ej,{children:[(0,Z.jsx)(c.Z,{form:P,name:"form-attendance",autoComplete:"off",children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,Z.jsx)(m.gH,{name:"date",required:!0,message:"please select date",onChange:function(e,t){return O(t)},format:"YYYY-MM-DD"}),(0,Z.jsx)(c.Z.Item,{children:(0,Z.jsx)(u.Z,{type:"primary",shape:"round",icon:(0,Z.jsx)(y.Ihx,{style:{marginRight:"6px"}}),onClick:function(){if(0===E.length)return console.log("Form tidak bolah kosong"),null;l((0,a.Z)((0,a.Z)({},r),{},{page:1,fromdate:E[0],todate:E[1]}))},loading:z,htmlType:"submit",style:{marginLeft:16},children:"Show"})})]})}),(0,Z.jsx)("div",{style:{marginBottom:14},children:(0,Z.jsx)(m.ih,{name:"empId",placeholder:"filter employee",onChange:function(e){return Y(e)},loading:M,disabled:M,style:{minWidth:290},children:L.map((function(e){return(0,Z.jsx)(w,{value:e.id,children:"[".concat(e.id,"] ").concat(e.name)},e.id)}))})})]}),(0,Z.jsx)("div",{style:{marginTop:"20px"},children:(0,Z.jsx)(f.Z,{columns:[{title:"#",dataIndex:"id",width:70},{title:"Name",dataIndex:"employee"},{title:"Site",dataIndex:"site_id"},{title:"Coordinate",dataIndex:"latitude",render:function(e,t){return"".concat(e,"\xb0, ").concat(t.longitude,"\xb0")}},{title:"Address",dataIndex:"address",ellipsis:!0},{title:"City",dataIndex:"city"},{title:"Province",dataIndex:"province"},{title:"Date",dataIndex:"time"}],dataSource:_,rowKey:function(e){return e.id},loading:z,scroll:{y:500},pagination:{total:T.total_data,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},showQuickJumper:!0,defaultCurrent:1,onChange:function(e){return l((0,a.Z)((0,a.Z)({},r),{},{page:e}))},showSizeChanger:!0,onShowSizeChange:function(e,t){return I(t)},defaultPageSize:C,pageSizeOptions:[20,60,100,140]}})})]})})]})}),[1])}}]);
//# sourceMappingURL=602.a3929e93.chunk.js.map